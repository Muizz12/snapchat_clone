(this["webpackJsonpsnapchat-clone"]=this["webpackJsonpsnapchat-clone"]||[]).push([[0],{101:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},117:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(47),i=c.n(s),r=(c(93),c(94),c(68)),o=c.n(r),l=c(51),j=c.n(l),d=(c(95),c(11)),u=c(38),b=Object(u.b)({name:"camera",initialState:{cameraImage:null},reducers:{setCameraImage:function(e,t){e.cameraImage=t.payload},resetCameraImage:function(e){e.cameraImage=null}}}),p=b.actions,m=p.setCameraImage,h=p.resetCameraImage,f=function(e){return e.camera.cameraImage},O=b.reducer,g=c(6),x=c(2),v={width:250,height:400,facingMode:"user"};var _=function(){var e=Object(a.useRef)(null),t=Object(d.b)(),c=Object(g.f)(),n=Object(a.useCallback)((function(){var a=e.current.getScreenshot();t(m(a)),c.push("/Preview")}),[e]);return Object(x.jsxs)("div",{className:"webcamCapture",children:[Object(x.jsx)(o.a,{audio:!1,height:v.height,ref:e,screenshotFormat:"image/jpeg",width:v.width,videoConstraints:v}),Object(x.jsx)(j.a,{className:"webcamCapture__button",onClick:n,fontSize:"large"})]})},N=c(84),I=c(71),w=c.n(I),C=(c(101),c(72)),k=c.n(C),S=c(73),P=c.n(S),y=c(74),R=c.n(y),A=c(75),T=c.n(A),U=c(76),L=c.n(U),z=c(77),E=c.n(z),F=c(78),J=c.n(F),B=c(79),D=c.n(B),H=c(36),V=c.n(H),Z=V.a.initializeApp({apiKey:"AIzaSyA9L7J427hP0jbpaZ1g8PLpb3kacSjrX00",authDomain:"snapchat-clone-365f0.firebaseapp.com",projectId:"snapchat-clone-365f0",storageBucket:"snapchat-clone-365f0.appspot.com",messagingSenderId:"181334907472",appId:"1:181334907472:web:8896e21427b99ab46d4f55",measurementId:"G-HHZV5TGW0V"}).firestore(),G=V.a.auth(),W=V.a.storage(),X=new V.a.auth.GoogleAuthProvider,q=c(133),M=Object(u.b)({name:"app",initialState:{user:null,selectedImage:null},reducers:{login:function(e,t){e.user=t.payload},Logout:function(e){e.user=null},selectImage:function(e,t){e.selectedImage=t.payload},resetImage:function(e){e.selectedImage=null}}}),Y=M.actions,K=Y.login,Q=Y.Logout,$=Y.selectImage,ee=(Y.resetImage,function(e){return e.app.user}),te=function(e){return e.app.selectedImage},ce=M.reducer;var ae=function(){var e=Object(d.c)(f),t=Object(d.b)(),c=Object(g.f)(),n=Object(d.c)(ee);return Object(a.useEffect)((function(){e||c.replace("/")}),[e,c]),Object(x.jsxs)("div",{className:"preview",children:[Object(x.jsx)(w.a,{className:"preview__clone",onClick:function(){t(h())}}),Object(x.jsxs)("div",{className:"preview__toolbarRight",children:[Object(x.jsx)(k.a,{}),Object(x.jsx)(P.a,{}),Object(x.jsx)(R.a,{}),Object(x.jsx)(T.a,{}),Object(x.jsx)(L.a,{}),Object(x.jsx)(E.a,{}),Object(x.jsx)(J.a,{})]}),Object(x.jsx)("img",{src:e,alt:e}),Object(x.jsxs)("div",{onClick:function(){var t=Object(q.a)();W.ref("posts/".concat(t)).putString(e,"data_url").on("state_changed",null,(function(e){console.log(e)}),(function(){W.ref("posts").child(t).getDownloadURL().then((function(e){Z.collection("posts").add({imageUrl:e,username:n.username,Profilepic:n.Profilepic,read:!1,timestamp:V.a.firestore.FieldValue.serverTimestamp()}),c.push("/sendpost")}))}))},className:"preview__footer",children:[Object(x.jsx)("h2",{children:"Send Now"}),Object(x.jsx)(D.a,{fontSize:"small",className:"preview__sendIcon"})]})]})},ne=c(10),se=c(135),ie=c(81),re=c.n(ie),oe=c(82),le=c.n(oe),je=(c(112),c(80)),de=c.n(je),ue=c(85);c(113);var be=function(e){var t=e.id,c=e.Profilepic,a=e.imageUrl,n=e.username,s=e.timestamp,i=e.read,r=Object(g.f)(),o=Object(d.b)();return Object(x.jsxs)("div",{onClick:function(){o($(a)),Z.collection("posts").doc(t).set({read:!0},{merge:!0}),r.push("/open")},className:"chat",children:[Object(x.jsx)(se.a,{className:"chat__avatar",src:c}),Object(x.jsxs)("div",{className:"chat__info",children:[Object(x.jsx)("h2",{children:n}),Object(x.jsxs)("p",{children:[!i&&"Tap to View"," ",Object(x.jsx)(ue.a,{date:new Date(null===s||void 0===s?void 0:s.toDate()).toUTCString()})]})]}),!i&&Object(x.jsx)(de.a,{className:"chat__readIcon"})]})};var pe=function(){var e=Object(a.useState)([]),t=Object(ne.a)(e,2),c=t[0],n=t[1],s=Object(d.c)(ee),i=Object(g.f)(),r=Object(d.b)();return Object(a.useEffect)((function(){Z.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return n(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(x.jsxs)("div",{className:"sendpost",children:[Object(x.jsxs)("div",{className:"sendposts__header",children:[Object(x.jsx)(se.a,{src:s.Profilepic,onClick:function(){return G.signOut()},className:"sendposts__avatar"}),Object(x.jsxs)("div",{className:"sendposts__search",children:[Object(x.jsx)(re.a,{}),Object(x.jsx)("input",{placeholder:"Friends",type:"text"})]}),Object(x.jsx)(le.a,{className:"sendposts__chatIcon"})]}),Object(x.jsx)("div",{className:"sendposts__post",children:c.map((function(e){var t=e.id,c=e.data,a=c.Profilepic,n=c.imageUrl,s=c.username,i=c.timestamp,r=c.read;return Object(x.jsx)(be,{Profilepic:a,id:t,username:s,timestamp:i,read:r,imageUrl:n},t)}))}),Object(x.jsx)(j.a,{className:"sendposts__button",onClick:function(){r(h()),i.push("/")},fontSize:"large"})]})},me=c(83);c(114);var he=function(){var e=Object(d.c)(te),t=Object(g.f)();Object(a.useEffect)((function(){e||c()}),[e]);var c=function(){t.push("/sendpost")};return Object(x.jsxs)("div",{className:"open",children:[Object(x.jsx)("img",{src:e,onClick:c,alt:e}),Object(x.jsx)("div",{className:"open__time",children:Object(x.jsx)(me.CountdownCircleTimer,{isPlaying:!0,duration:10,strokeWidth:6,size:50,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],children:function(e){var t=e.remainingTime;return 0===t&&c(),t}})})]})},fe=c(132);c(115);var Oe=function(){var e=Object(d.b)();return Object(x.jsx)("div",{className:"login",children:Object(x.jsxs)("div",{className:"login__container",children:[Object(x.jsx)("img",{src:"https://th.bing.com/th/id/R.01d85ad0fb5c80379bf077349345982a?rik=rw%2fHZ%2fXquJ3TYA&pid=ImgRaw&r=0"}),Object(x.jsx)(fe.a,{varient:"outline",onClick:function(){G.signInWithPopup(X).then((function(t){console.log(t),e(K({username:t.user.displayName,Profilepic:t.user.photoURL,id:t.user.uid}))})).catch((function(e){alert(e)}))},children:Object(x.jsx)("strong",{children:"Sign in"})})]})})};var ge=function(){var e=Object(d.c)(ee),t=Object(d.b)();return Object(a.useEffect)((function(){G.onAuthStateChanged((function(e){e?(console.log("rsules",e),t(K({username:e.displayName,Profilepic:e.photoURL,id:e.uid}))):t(Q())}))}),[]),Object(x.jsx)("div",{className:"app",children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{className:"app_logo",src:"https://th.bing.com/th/id/R.01d85ad0fb5c80379bf077349345982a?rik=rw%2fHZ%2fXquJ3TYA&pid=ImgRaw&r=0"}),Object(x.jsx)(N.a,{children:e?Object(x.jsx)("div",{className:"app__body",children:Object(x.jsx)("div",{className:"app__bodybackground",children:Object(x.jsxs)(g.c,{children:[Object(x.jsx)(g.a,{exact:!0,path:"/",children:Object(x.jsx)(_,{})}),Object(x.jsx)(g.a,{exact:!0,path:"/Preview",children:Object(x.jsx)(ae,{})}),Object(x.jsx)(g.a,{exact:!0,path:"/sendpost",children:Object(x.jsx)(pe,{})}),Object(x.jsx)(g.a,{exact:!0,path:"/open",children:Object(x.jsx)(he,{})})]})})}):Object(x.jsx)(Oe,{})})]})})},xe=Object(u.a)({reducer:{app:ce,camera:O}});i.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(d.a,{store:xe,children:Object(x.jsx)(ge,{})})}),document.getElementById("root"))},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.7a8361fe.chunk.js.map